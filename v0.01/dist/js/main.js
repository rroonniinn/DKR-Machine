"use strict";document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector("#btn-play-stop"),t=document.querySelector("#form-bmp"),n=document.querySelector("#form-bmp__input"),o=document.querySelector("#btn-tempo__up"),l=document.querySelector("#btn-tempo__down"),r=document.querySelector(".tabs-table"),a=[document.querySelectorAll('[data-x="0"]'),document.querySelectorAll('[data-x="1"]'),document.querySelectorAll('[data-x="2"]'),document.querySelectorAll('[data-x="3"]'),document.querySelectorAll('[data-x="4"]'),document.querySelectorAll('[data-x="5"]'),document.querySelectorAll('[data-x="6"]'),document.querySelectorAll('[data-x="7"]')],c=document.querySelectorAll("[id^=btn-key-]"),i=document.querySelectorAll("[id^=btn-inst]");function u(e){return 6e4/e/2}n.value=125;var s=1,d=n.value,v=u(d),f=new Howl({src:["sound/crash.mp3"],volume:.4}),m=new Howl({src:["sound/hh.mp3"],volume:1}),b=new Howl({src:["sound/kick.mp3"]}),h=new Howl({src:["sound/snare.mp3"]}),y=new Howl({src:["sound/tom.mp3"]}),g="on",p="on",L="on",q="on",S="on";t.addEventListener("submit",function(e){e.preventDefault(),d=n.value,v=u(d)}),n.addEventListener("blur",function(e){e.preventDefault(),d=n.value,v=u(d)}),o.addEventListener("click",function(){n.value=Number(n.value)+5,d=n.value,v=u(d)}),l.addEventListener("click",function(){n.value=Number(n.value)-5,d=n.value,v=u(d)}),document.addEventListener("keypress",function(e){var t={99:f,104:m,116:y,115:h,107:b};function n(e){c[e].classList.toggle("tabs__btn--key-active"),setTimeout(function(){c[e].classList.toggle("tabs__btn--key-active")},400),console.log(e)}void 0!==t[e.charCode]?(t[e.charCode].play(),99===e.charCode?n(0):104===e.charCode?n(1):116===e.charCode?n(2):115===e.charCode?n(3):107===e.charCode&&n(4)):console.log("nieobs≈Çugiwany")});var _=[[0,0,0,0,0,0,0,0],[1,1,1,1,1,1,1,1],[0,0,0,0,0,0,0,0],[0,0,1,0,0,0,1,0],[1,0,0,0,1,0,0,0]];function A(){0!=_[0][s-1]&&f.play(),0!=_[1][s-1]&&m.play(),0!=_[2][s-1]&&y.play(),0!=_[3][s-1]&&h.play(),0!=_[4][s-1]&&b.play();for(var e=0;e<a[s-1].length;e++)a[s-1][e].innerHTML='<div class="playheadActive"></div>';if(1!=s)for(var t=0;t<a[s-2].length;t++)a[s-2][t].innerHTML="";else for(var n=0;n<a[s+6].length;n++)a[s+6][n].innerHTML="";9===++s&&(s=1)}var w=!1;e.addEventListener("click",function(e){e.preventDefault(),!1!==w?(clearInterval(w),w=!1,s=1):w=setInterval(A,v),!1;for(var t=0;t<a.length;t++)for(var n=0;n<a[t].length;n++)a[t][n].innerHTML="";this.classList.toggle("controls-pause")});for(var k=0;k<_.length;k++)for(var x=0;x<_[k].length;x++){1===_[k][x]&&document.querySelector("#x"+x+"y"+k).classList.add("tabs-table__cell--active")}r.addEventListener("click",function(e){if(e.preventDefault(),e.target.id.includes("x")){e.target.dataset.active="1",e.target.classList.toggle("tabs-table__cell--active");var t=e.target.getAttribute("id"),n=Number(t.charAt(3)),o=Number(t.charAt(1));console.log("Y: "+n+"  X: "+o+" "),console.log(_[n][o]),0===_[n][o]?_[n][o]=1:_[n][o]=0}});for(var E=0;E<i.length;E++)i[E].addEventListener("click",function(e){this.classList.toggle("tabs__btn--icon-notactive"),"btn-inst1"===this.id&&"on"===g?(f.volume(0),g="off"):"btn-inst1"===this.id&&"off"===g&&(f.volume(.4),g="on"),"btn-inst2"===this.id&&"on"===p?(m.volume(0),p="off"):"btn-inst2"===this.id&&"off"===p&&(m.volume(1),p="on"),"btn-inst3"===this.id&&"on"===S?(y.volume(0),S="off"):"btn-inst3"===this.id&&"off"===S&&(y.volume(1),S="on"),"btn-inst4"===this.id&&"on"===q?(h.volume(0),q="off"):"btn-inst4"===this.id&&"off"===q&&(h.volume(1),q="on"),"btn-inst5"===this.id&&"on"===L?(b.volume(0),L="off"):"btn-inst5"===this.id&&"off"===L&&(b.volume(1),L="on")})});
//# sourceMappingURL=main.js.map
